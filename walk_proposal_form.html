<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Open University Running Club</title>
  <link href="walk_proposal_form.css" rel="stylesheet"  type="text/css"/>
</head>
<body>
  <div id="page">
    <header id="header">
      <div id="loginsB">
        <button id="sign">Sign in</button>
        <button id="login">Login</button>
      </div>
      <div id="title"><span>Open University Running Club</span></div>

    </header>
    <div id="navbar" >
            <div class="hmenu" ><a href="">Home</a></div>
            <div class="hmenu"><a href="">Add Walk</a></div>
            <div class="hmenu"><a href="">Profile</a></div>
            <div class="hmenu"><a href="">New member Request</a></div>
    </div>
    <main>
      <div id="page_content">
        <div id="formHolder">
            <form method="post" action="http://students.open.ac.uk/mct/tt284/reflect/reflect.php" id="form" >
                <input type=hidden name=sessionID value="ABCDEF012345">
                <h3 style="text-align:  center;">Walk Proposal Form</h3>

                <p><label for="walk">Walk</label>
        				  <input type="text" name="walk" id="walk" placeholder="Grade A Walk"  oninvalid="this.setCustomValidity('Please set a walk name')" onchange="this.setCustomValidity('')" required maxlength="20" minlength="2" value="" >
                  <span>&nbsp;</span>
        				</p>

        				<p><label for="walk_date">Date of Walk</label>
        				  <input type="date" name="dateofwalk" id="walk_date"  min="1900-01-01"  oninvalid="this.setCustomValidity('PLease put valid date.')" onchange="this.setCustomValidity('')" required >
                  <span>&nbsp;</span>
                </p>

                <p><label for="start_time">Time of Walk</label>
                  <input type="time" name="timeofwalk" id="start_time" oninvalid="this.setCustomValidity('PLease put valid time.')" onchange="this.setCustomValidity('')" required >
                  <span>&nbsp;</span>
                </p>

                <p><label for="leader">Leader</label>
        				  <input type="text" name="leader" id="leader" placeholder="Leader"  oninvalid="this.setCustomValidity('We do need your the name of leader')" onchange="this.setCustomValidity('')" required maxlength="20" minlength="2" value="" >
                      <span>&nbsp;</span>
        				</p>

                <p><label for="meetingPoint">Meeting point</label>
        				  <input type="text" name="meetingPoint" id="meetingPoint" placeholder="Meeting point" oninvalid="this.setCustomValidity('Please provide adrress')" onchange="this.setCustomValidity('')" required maxlength="20" minlength="2" value="" >
                  <span>&nbsp;</span>
                </p>

                <p>
                  <input type=hidden name=meeting_latlong value="" id="meeting_latlong">
                </p>
                  <div id="map" style="width:100%;height:300px;"></div>
                  <script>
                  var marker;
                  var infowindow;

                  function myMap() {

                    var mapCanvas = document.getElementById("map");
                    var myCenter=new google.maps.LatLng(51.508742,-0.120850);
                    var mapOptions = {center: myCenter, zoom: 5};
                    var map = new google.maps.Map(mapCanvas, mapOptions);
                    google.maps.event.addListener(map, 'click', function(event) {
                      placeMarker(map, event.latLng);
                    });
                  }
                  function placeMarker(map, location) {
                    if(marker == null){
                      marker = new google.maps.Marker({position: location, map: map  });
                    }else{
                      marker.setPosition(location);
                    }
                    if(infowindow == null){
                      infowindow = new google.maps.InfoWindow({ content: 'Latitude: ' + location.lat() + '<br>Longitude: ' + location.lng() });
                      infowindow.open(map,marker);
                    }else{
                      infowindow.setContent('Latitude: ' + location.lat() + '<br>Longitude: ' + location.lng());
                    }
                    document.getElementById("meeting_latlong").value = location.lat() + ', ' + location.lng()
                  }

                  </script>
                  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANdp6QZhatL-875-CmoO4G4qGg8qbDQa0&callback=myMap"></script>


                <p><label for="distance">Distance</label>
                  <input type="text" name="distance" id="distance" placeholder="Distance" oninvalid="this.setCustomValidity('Please provide distance')" onchange="this.setCustomValidity('')" required maxlength="20" minlength="2" value="" >
                  <span>&nbsp;</span>
                </p>

                <p><label for="route">Route</label>
                  <input type="text" name="route" id="route" placeholder="Route" oninvalid="this.setCustomValidity('Please provide route')" onchange="this.setCustomValidity('')" required maxlength="20" minlength="2" value="" >
                  <span>&nbsp;</span>
                </p>

                <p><label for="notes">Notes</label>
                  <input type="text" name="notes" id="notes" placeholder="Notes">
                </p>
                <div  style="text-align: right;">
                  <input type="reset" name="reset" value="Reset" />
                  <input type="submit" value="Submit">
                </div>

            </form>
        </div>
      </div>
    </main>
  </div>
  <footer id="footer">
    <a href="">Privacy</a> |
    <a href="">Contact</a> |
    <a href="">FAQs</a> |
    <a href="">Copyright</a> |
    <a href="">Conditions of use</a>
  </footer>
</body>
